{
  "hash": "31631361e5a5c4b1ebc2d73518f2b203",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Trait-Based Prediction of Animal Taxa\"\nsubtitle: \"Proposal\"\nauthor: \n  - name: \"Matthew Qi Lan Thompson\"\n    affiliations:\n      - name: \"College of Information Science, University of Arizona\"\ndescription: \"This project will involve creating two predictive models for classifying animal taxa using binary presence and evolutionary rate features of sexual traits.\"\nformat:\n  html:\n    code-tools: true\n    code-overflow: wrap\n    code-line-numbers: true\n    embed-resources: true\neditor: visual\ncode-annotations: hover\nexecute:\n  echo: false\n  warning: false\n  output: true\njupyter: python3\n---\n\n\n\n## Dataset\n\n::: {#load-dataset .cell message='false' execution_count=2}\n\n::: {.cell-output .cell-output-stdout}\n```\nEvolution Data:\n<class 'pandas.core.frame.DataFrame'>\nRangeIndex: 84 entries, 0 to 83\nData columns (total 12 columns):\n #   Column  Non-Null Count  Dtype  \n---  ------  --------------  -----  \n 0   Tree    84 non-null     int64  \n 1   Phylum  84 non-null     object \n 2   A       84 non-null     float64\n 3   G       84 non-null     float64\n 4   O       84 non-null     float64\n 5   T       84 non-null     float64\n 6   V       84 non-null     float64\n 7   C       84 non-null     float64\n 8   F       84 non-null     float64\n 9   K       84 non-null     float64\n 10  M       84 non-null     float64\n 11  S       84 non-null     float64\ndtypes: float64(10), int64(1), object(1)\nmemory usage: 8.0+ KB\nNone\n\nFamily Data:\n<class 'pandas.core.frame.DataFrame'>\nRangeIndex: 1087 entries, 0 to 1086\nData columns (total 13 columns):\n #   Column      Non-Null Count  Dtype \n---  ------      --------------  ----- \n 0   Tree_Label  1087 non-null   object\n 1   Phylum      1087 non-null   object\n 2   SS          1087 non-null   int64 \n 3   A           1087 non-null   int64 \n 4   G           1087 non-null   int64 \n 5   O           1087 non-null   int64 \n 6   T           1087 non-null   int64 \n 7   V           1087 non-null   int64 \n 8   C           1087 non-null   int64 \n 9   F           1087 non-null   int64 \n 10  K           1087 non-null   int64 \n 11  M           1087 non-null   int64 \n 12  S           1087 non-null   int64 \ndtypes: int64(11), object(2)\nmemory usage: 110.5+ KB\nNone\n```\n:::\n:::\n\n\nFamily-related metadata: 1 indicates trait presence, a whereas 0 indicates trait absence. SS: Combined (any sexually selected trait), A: Auditory, G: Gustatory, O: Olfactory, T:Tactile, V: Visual, C: Male-male competition, F: Female choice, K: Female-female competition, M: Male choice, S: Intersexual conflict.\n\nRates of trait evolution metadata: A: Auditory, G: Gustatory, O:Olfactory, T:Tactile, V: Visual, C: Male-male competition, F: Female choice, K: Female-female competition, M: Male choice, S: Intersexual conflict.\n\n::: {#46f309ce .cell execution_count=3}\n\n::: {.cell-output .cell-output-stdout}\n```\n1. Evolution Rate Dataset\n- File: animals_rateof_evolution.csv\n- Dimensions: 84 rows × 12 columns\n- Description: Contains continuous values representing the evolutionary rate of various sexual traits across different animal taxa.\n2. Family-Level Trait Dataset\n- File: family-related_data.csv\n- Dimensions: 1087 rows × 13 columns\n- Description: Encodes presence (1) or absence (0) of various sexually selected traits (e.g., visual, auditory, male-male competition) at the family level.\n```\n:::\n:::\n\n\nI chose these two datasets because the family-related data contains binary values (0 or 1) for various sexually selected traits, which makes it good for training machine learning models across a wide range of animal families. This gives me hands-on experience with multi-class classification and feature selection, and I may use SHAP to interpret the model’s predictions and feature contributions depending on how the models perform. The evolutionary rates data, on the other hand, includes continuous values (some zeros and some greater than zero), which lets me compare whether binary presence/absence data or continuous evolutionary rates give better predictive power. The phylum-level data seems more redundant with the family-level data, but the evolutionary rates dataset provides a different kind of information. Even though it is model-derived, I can still use the rates as input features to predict superphyla classes, since they reflect repeated origins of sexually selected traits across lineages.\n\nBoth datasets have a large number of distinct phyla. To reduce sparsity and improve interpretability, I will group these into higher-level clades called superphyla. This grouping stays below the kingdom level (since all taxa fall under Animalia) but still captures important evolutionary structure. Specifically, I will classify them into:\n\n-   Ecdysozoa\n\n-   Lophotrochozoa\n\n-   Deuterostomia\n\n-   Basal Metazoa & Non-Bilaterians\n\n-   Basal Bilateria\n\nSo overall, the family-level dataset gives raw binary trait data, while the evolutionary rates dataset gives continuous, model-derived estimates of trait origins. Using both together lets me compare which type of data—binary or continuous—works better for predicting evolutionary groupings.\n\nDataset Source: <https://frontiersin.figshare.com/articles/dataset/Data_Sheet_3_Evolution_of_sexually_selected_traits_across_animals_XLSX/21921510?file=38886321>\n\n(DataCite) Citation: Tuschhoff, E.; Wiens, John J. (2023). Data_Sheet_3_Evolution of sexually selected traits across animals.XLSX. Frontiers. Dataset. <https://doi.org/10.3389/fevo.2023.1042747.s003>\n\nOther Sources:\n\n“Animal.” *Wikipedia*, 16 Aug. 2025. *Wikipedia*, <https://en.wikipedia.org/w/index.php?title=Animal&oldid=1306191709>.\n\nCollins, Allen G., et al. “Phylogenetic Context and Basal Metazoan Model Systems.” *Integrative and Comparative Biology*, vol. 45, no. 4, Aug. 2005, pp. 585–94. *academic.oup.com*, <https://doi.org/10.1093/icb/45.4.585>.\n\n“Deuterostome.” *Wikipedia*, 9 Jul. 2025. *Wikipedia*, <https://en.wikipedia.org/w/index.php?title=Deuterostome&oldid=1299664913>.\n\n“Ecdysozoa.” *Wikipedia*, 12 Aug. 2025. *Wikipedia*, <https://en.wikipedia.org/w/index.php?title=Ecdysozoa&oldid=1305526962>.\n\n“Lophotrochozoa.” *Wikipedia*, 26 Jul. 2025. *Wikipedia*, <https://en.wikipedia.org/w/index.php?title=Lophotrochozoa&oldid=1302526625>.\n\n## Motivation\n\nI was motivated to try out the machine learning-based project with the animal classification because there are challenges to accurately classify each animal based on characteristics such as physiology, geographical distribution, and other traits, and even down to genomic sequence similarity (Tessler et al., 2022; van der Gulik et al., 2023). The idea of using machine learning for taxonomic classification already existed, but it still seems like a fairly new approach, so I wanted to evaluate how effective machine learning can be in this area (Alipour et al., 2024). If the project works out, it could be a stepping stone for further tweaks and improvements before applying it to more taxonomic classification problems using various numeric traits in a practical setting. This would help narrow down more relevant relative candidates when classifying while also saving time assuming the model accuracy is good.\n\nSources:\n\nAlipour, Fatemeh, et al. “Leveraging Machine Learning for Taxonomic Classification of Emerging Astroviruses.” *Frontiers in Molecular Biosciences*, vol. 10, Jan. 2024. *Frontiers*, <https://doi.org/10.3389/fmolb.2023.1305506>.\n\nTessler, Michael, et al. “Phylogenomics and the First Higher Taxonomy of Placozoa, an Ancient and Enigmatic Animal Phylum.” *Frontiers in Ecology and Evolution*, vol. 10, Dec. 2022. *Frontiers*, <https://doi.org/10.3389/fevo.2022.1016357>.\n\nvan der Gulik, Peter T. S., et al. “Renewing Linnaean Taxonomy: A Proposal to Restructure the Highest Levels of the Natural System.” *Biological Reviews*, vol. 98, no. 2, 2023, pp. 584–602. *Wiley Online Library*, <https://doi.org/10.1111/brv.12920>.\n\n## Questions\n\n-   How accurately can a machine learning model classify animal taxa based on the binary presence of sexually selected traits?\n-   Do evolutionary origin rates of sexual traits provide stronger predictive power than binary trait presence when classifying animal taxa?\n\n------------------------------------------------------------------------\n\n## Analysis plan\n\n### Overview\n\nThe primary objective is to assess and compare the predictive power and interpretability of both data.\n\n### Dataset Descriptions\n\n**1. Family-Level Trait Data (`family_df`)**\n\n-   Format: Binary indicators (`0` or `1`) for the presence or absence of sexually selected traits.\n\n-   Traits include: `SS`, `A`, `G`, `O`, `T`, `V`, `C`, `F`, `K`, `M`, `S`\n\n-   Each row represents a taxonomic family.\n\n-   The target variable will likely be a categorical label such as `Class` or a user-defined taxon.\n\n**2. Evolutionary Rates Data (`evolution_df`)**\n\n-   Format: Continuous numerical values representing the origin rates of the same traits listed above.\n\n-   Each row represents a taxonomic group.\n\n-   Target variable will match the one used in the binary dataset for comparison.\n\n### Exploratory Data Analysis (EDA)\n\nEDA will be performed separately for both datasets:\n\n-   Distribution plots for each trait in histogram\n\n-   Visualization of binary presence in sexually selected traits if possible\n\n-   Correlation matrix of sexually selected traits related to each other\n\n-   Summary statistics for continuous traits.\n\n-   Count plots or bar charts showing trait prevalence by taxonomic group (e.g., class or family).\n\n### Modeling Approach\n\nFor both datasets:\n\n1\\. Data Preparation\n\n-   I will double check for any null values.\n\n-   I will encode target variable (animals taxa) using `LabelEncoder`. For the evolutionary rates, I will convert any values \\> 0 to 1 and hot-encode these numerical columns (sexually selected traits) for the presence of sexually selected traits.\n\n-   For `evolution_df`, I will standardize these sexually selected traits feature using `StandardScaler`.\n\n2\\. Models to Use\n\n-   `DecisionTreeClassifier`\n\n-   `RandomForestClassifier`\n\n-   `LogisticRegression`\n\n3\\. Evaluation Metrics\n\n-   Accuracy score\n\n-   Confusion matrix\n\n-   Classification report\n\n-   Cross-validation score (`cross_val_score`)\n\n-   ROC-AUC score\n\n4\\. Model Interpretation\n\n-   I will use SHAP to interpret trained models.\n\n-   I will generate SHAP summary plots and bar plots to highlight influential traits.\n\n-   I will compare interpretability between models trained on binary and continuous data for the evolutionary rates.\n\n### Comparison and Interpretation\n\n-   I will interpret the classification performance across both data and answer both questions. Then, I will draw conclusions about which dataset format (binary or continuous) provides stronger predictive insights for question #2.\n\n-   I will analyze SHAP outputs to identify which traits contribute most to predictions.\n\n-   I may also interpret which family has sexually selected traits and explain the results (if I have more time during the presentation).\n\n",
    "supporting": [
      "proposal_files/figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}